<app-header></app-header>
<main class="dashboard">
  <div *ngIf="showWelcome" class="welcome-banner">
    <p>Â¡Gracias por registrarte! Ya estÃ¡s registrado y logueado.</p>
    <button class="close-btn" (click)="closeWelcome()">&times;</button>
  </div>
  <section class="welcome">
    <h1 *ngIf="isFirstLogin">Â¡Bienvenido a Agenda ITESO, {{userName || 'Usuario'}}!</h1>
    <h1 *ngIf="!isFirstLogin">Â¡Bienvenido de vuelta, {{userName || 'Usuario'}}!</h1>
    <p>Organiza tus actividades acadÃ©micas, deportivas y mÃ¡s. Tienes {{pendingCount()}} actividades pendientes.</p>
  </section>

  <section class="quick-actions">
    <a routerLink="/app/activities" class="action-btn">
      <span class="icon">ðŸ“…</span>
      <span>Ver Todas las Actividades</span>
    </a>
  </section>

  <section class="activities-overview">
    <h2>Todas tus Actividades</h2>
    <div class="activities-grid">
      <div class="activity-card" *ngFor="let a of items">
        <div class="activity-header">
          <h3>{{a.title}}</h3>
          <span class="type-badge" [class]="a.type.toLowerCase()">{{a.type}}</span>
        </div>
        <div class="activity-details">
          <p><strong>Fecha:</strong> {{a.date}}</p>
          <p *ngIf="a.time"><strong>Hora:</strong> {{a.time}}</p>
          <p *ngIf="a.location"><strong>Lugar:</strong> {{a.location}}</p>
        </div>
        <div class="activity-footer">
          <span class="status" [class.pending]="a.status === 'pendiente'" [class.completed]="a.status === 'completada'">
            {{a.status === 'pendiente' ? 'Pendiente' : 'Completada'}}
          </span>
        </div>
      </div>
    </div>
    <p *ngIf="items.length === 0" class="no-activities">No tienes actividades registradas.</p>
  </section>
</main>
<app-footer></app-footer>