<app-header></app-header>
<main class="auth">
  <h2 appHighlight="rgba(99,102,241,.15)">Crear cuenta</h2>
  <form #f="ngForm" (ngSubmit)="register(f)">
    <label>
      Email
      <div class="email-input-group">
        <input
          type="text"
          [(ngModel)]="emailPrefix"
          name="emailPrefix"
          placeholder="tu.nombre"
          pattern="^[A-Za-z0-9._%+-]+$"
          required
        />
        <span class="email-suffix">@iteso.mx</span>
      </div>
    </label>

    <label>
      ContraseÃ±a
      <div class="password-container">
        <input
          [type]="showPassword ? 'text' : 'password'"
          [(ngModel)]="password"
          name="password"
          required
        />
        <button
          type="button"
          (click)="togglePassword()"
          class="toggle-password"
        >
          {{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
        </button>
      </div>
    </label>

    <button
      class="btn"
      type="submit"
      [disabled]="f.invalid || loading"
    >
      <span *ngIf="!loading">Registrarme</span>
      <span *ngIf="loading" class="spinner"></span>
    </button>
  </form>
  <p class="error" *ngIf="error">{{ error }}</p>

  <p class="register-section">
    Â¿Ya tienes cuenta?
    <a routerLink="/auth/login" class="register-btn">Inicia sesiÃ³n</a>
  </p>
</main>
<app-footer></app-footer>
