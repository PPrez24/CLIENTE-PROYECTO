<app-header></app-header>
<main class="auth">
  <h2>Iniciar sesiÃ³n</h2>
  <form (ngSubmit)="login()" #f="ngForm">
    <label>Email
      <div class="email-input-group">
        <input type="text" name="emailPrefix" [(ngModel)]="emailPrefix" required pattern="^[A-Za-z0-9._%+-]+$" placeholder="tu.nombre" />
        <span class="email-suffix">@iteso.mx</span>
      </div>
    </label>
    <label>ContraseÃ±a
      <div class="password-container">
        <input [type]="showPassword ? 'text' : 'password'" name="password" [(ngModel)]="password" required />
        <button type="button" (click)="togglePassword()" class="toggle-password">{{ showPassword ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}</button>
      </div>
    </label>
    <button class="btn" type="submit" [disabled]="!f.form.valid || loading">
      <span *ngIf="!loading">Entrar</span>
      <span *ngIf="loading" class="spinner"></span>
    </button>
  </form>
  <p class="error" *ngIf="error">{{ error }}</p>
  
  <p class="register-section">Â¿No tienes cuenta? <a routerLink="/auth/register" class="register-btn">RegÃ­strate</a></p>
</main>
<app-footer></app-footer>
